# kakutei
* 使い方<br>
Google Chormeでブラウザを開き、sample_kakutei_check.htmlのファイルをドラッグ＆ドロップしてください。
<br>
各項目に数値を入れて「診断」ボタンを押すと、納税額と確定申告時の控除額が計算されます。
<br>

* 算式用の数値<br>
控除換算率_医療費(項目名：iryouhi_pe) = 0.8;
控除換算率_社会保険料(項目名：shakaihoken_per) = 0.8;
控除換算率_生命保険料(項目名：seimeihoken_per) = 0.8;

配偶者特別控除額 = 配偶者がいて共働きの場合：380000。それ以外の場合：0;がが
※共働きの場合への対応は未実装。

子供扶養控除額 = 16歳以上の子供がいる場合：380000。それ以外の場合：0;

税率(項目名：tax_per) = 0.3;
※累進課税で、年収+年間賞与に応じて税率が変わる対応は未実装。

控除換算率_住宅ローン(項目名：roun_per) = 0.1;

* 計算式
給与所得(項目名：kyuyoshotoku) = 年収 + 年間賞与
所得控除(項目名：shotokukojyo) = 年間医療費 * 控除換算率_医療費 + 年間社会保険料 * 控除換算率_社会保険料 + 年間社会保険料 * 控除換算率_生命保険料 + 配偶者特別控除額 + 子供扶養控除額
課税所得(項目名：kazeishotoku) = 給与所得 - 所得控除
税額(項目名：tax_all) = 課税所得 * 税率
確定申告時の控除額(項目名：tax_jyogai) = ふるさと納税額 + 住宅ローン残額 * 控除換算率_住宅ローン

* 計算例(初期入力値)
給与所得 = 4000000 + 600000
         = 4600000
所得控除 = 120000 * 0.8 + 72000 * 0.8 + 36000 * 0.8 + 0 + 0
         = 182400
課税所得 = 4600000 - 182400
         = 4417600
税額 = 4417600 * 0.3
     = 1325280
確定申告時の控除額 = 10000 + 3000000 * 0.1
                   = 310000
                   
* 課題
・デザイン
・共働きの場合への対応
・年収に応じて税率が変わる対応
・源泉徴収額、年末調整についての対応
・ボタンを押したときに、メッセージではなく別の画面に遷移して表示する機能
・数字に区切りのカンマを入れる対応
  4000000→4,000,000
